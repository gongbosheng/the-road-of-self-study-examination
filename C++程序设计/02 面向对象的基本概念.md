# 一、 结构化程序设计

在结构化程序设计中，采用**自顶向下、逐步求精**及**模块化**的思想,将复杂的大问题层层分解为许多简单的小问题。

在编写程序时，使用3种基本控制结构来构造程序。可以说，程序基本上都含有**顺序**、**选择**、**循环**3种基本控制结构,这3种结构到目前为止仍是主要的控制结构。程序以控制结构为单位，只有一个入口和一个出口，基于控制结构可以从前往后地顺序阅读程序，程序的静态描述与执行时的控制流程容易对应，所以可以独立地理解各个部分。结构化程序设计主要强调的是程序的易读性。

# 二、 面向对象程序设计的概念和特点

所谓面向对象的程序设计方法，就是使分析、设计和实现一个系统的方法尽可能地接近，人们认识一个系统的方法。通常包括3个方面:面向对象的分析、面向对象的设计和面向对象的程序设计。

面向对象技术把问题看成是相互作用的事物的集合，也就是对象的集合。对象具有两个特性

- 状态   ： 状态是指对象本身的信息，也称为属性。
- 行为   ： 行为是对象的操作。

通过对事物的抽象找出同一类对象的共同属性(静态特征)和行为(动态特征)，从而得到类的概念。对象是类的一个具象，类是对象的一个抽象。



**面向对象程序设计基本特点**

- 抽象 ： 对象是系统中用来描述客观事物的一个实体，如各位员工是员工类的一个个对象。对象的特点包括两个方面:属性和操作。属性指的是描述对象静态特征的数据项，如员工的姓名、职位、薪水等，可以用变量来表示;操作指的是描述对象动态特征(即行为)的函数序列，也称为方法或服务，如员工可以请假、加班，员工还可以获得提拔、加薪等。
- 封装 ： 通过用户定义的**类**来支持数据封装和信息隐藏。
- 继承 ： 在C+ +现有类的基础上可以声明新的类,将一个已有类中的数据和函数保留，并加上自己特殊的数据和函数，从而构成一个新类, 这就是继承和复用的思想。原来的类是**基类**,也称为**父类**或**超类**。新类是**派生类**，也称为**子类**。
- 多态 :   多态是指不同种类的对象都具有名称相同的行为，而具体行为的实现方式却有所不同。在一个类或多个类中，可以让多个方法使用同一个名字，从而具有多态性。这是通过函数载及运算符重载实现的多态。



C++ 中使用**对象名**、**属性**和**操作**三要素来描述对象。

# 三、 类的初步认识

## （1） C++ 的基本数据类型

- bool 布尔型
- char 字符型
- int 整型
- float 浮点型
- double 双精度浮点型

## （2） 类的定义

类中的成员按功能划分，包括成员变量和成员函数;按访问权限划分，包括公有成员、私有成员和保护成员。

在C+ +中还可以定义还是任何类的成员的函数，这样的函数可称为“全局函数"

成员函数既可以在类体内定义，也可以在类体外定义。如果成员函数定义在类体内部，则默认是内联函数。也可以在类体内部声明函数，并加上inline关键字，然后在类体外给出函数定义，这样的成员函数也是内联函数。

**成员变量：** 是类中的一类成员，个数不限，也称为数据乘员。成员变量的声明方式与普通变量的声明相同。（属性）

**成员函数：** 是类中的另一类成员，个数不限，其声明方式与普通函数的声明相同。（方法）

**标识符命名规则：**  字母、数字和下划线的组合，大小写敏感，但不能以数字开头，也不能和系统中使用的关键字完全相同。,类是具有唯一标识符的实体，就是说类名不能重复。类定义以 ; 结束,大括号中的部分称为类体。

定义类时系统并不为类分配存储空间，而只是把类看作是一种模板或样板。或者说，类可以看作是用户自定义的一种数据类型。在C+ + 98标准
下，类中声明的任何成员不能使用auto、extern和register关键字进行修饰。

如果成员函数定义在类体外，则类体内必须要有函数原型，类体外函数定义的前面必须用"类名::" 来限定，格式如下:

```c
int classname::func(int a)
{
  cin >> a;
}
```

类名是成员函数所属类的名字,符号:是类作用域运算符,表明它后面的成员函数是属于类名标识的这个类的。返回值类型就是这个成员函数返回值的类型。

类 C 中不能定义类 C 的成员变量，但可以定义类 C 的指针与引用。

# 四、 类的示例程序剖析

## （1） 程序结构

```c
#include <iostream>
#include <string>

using namespace std;

class classname
{
   public:  // 公共
      int method(int a, int b);
   private: // 私有
      int a,b,c;
};

int classname::method(int a, int b)
{
   if (a > b) cout << a << endl;
   return 1;
}

int main()
{
   classname ss;
   ss.method(2,1);   
}
```

## （2） 成员函数与成员变量的定义

```c
int classname::func(int a)
{
  cin >> a;
}
```

成员函数并非每个对象各自存有一份。成员函数和普通函数-样,在内存中只有一份，它可以作用于不同的对象，为类中各对象共享。通常，因为函数体代码较长，所以在类体内仅给出成员函数的原型，然后在类体外给出对应的函数体。如果函数体定义在类体内，则系统将其视为内联函数。类中定义的成员函数允许重载。

## （3） 创建类对象的基本形式

用 new 创建对象时返回的是一个对象指针吗这个指针指向本类刚创建的这个对象。 C++ 分配给指针的仅仅是存储指针值的空间，而对象所占用的空间分配在堆上。使用 new 创建的对象， 必须用 delete 来撤销。

```c++
classname a,b,c;
classname *a = new classname;
classname *a = new classname();
classname *a = new classname(参数);
```

与基本数据类型一样，还可以声明对象的引用，对象的指针及对象的数组。

```c++
// 引用
classname b;
classname &a = b;
// 指针
classname *c = &b;
// 数组
classname d[20];
```

同类型的对象之间可以相互赋值。对象和对象指针都可用做函数参数。函数返回值可以对象或指向对象的指针。对象数组名是一个常量指针。

# 五、 访问对象的成员

定义了类和对象后，就可以访问对象的成员。通过对象访问成员变量的一般格式如下

```c
对象名.成员变量名  
```

调用成员函数的一般格式如下：

```c
对象名.成员函数名(参数表)
```



# 六、 类成员的可访问范围

- public  使用它修饰的类的成员可以在程序的任何地方被访问。
- private  使用它修饰的类的成员仅能在本类内被访问。
- protected  它的作用介于public与private之间，使用它修饰的类的成员能在本类内及子类中被访问。

私有类型的成员在类外是不能访问的，通过公有函数访问的效率比直接访问的效率要低。为了权衡这两方面的因素，C++提供了友元访问方式。只有在类内和在友元函数内才可以访问私有成员。

隐藏的作用：设置私有成员的机制叫作"隐藏”。"隐藏” 的一个目的就是强制对私有成员变量的访问一定要通过公有成员函数进行。这样做的好处是如果以后修改了成员变量的类型等属性，只需要更改成员函数即可。否则，所有直接访问成员变量的语句都需要修改。



# 七、 标识符的作用域与可见性

标识符是组成程序的最小成分之一。类名、函数名、变量名、常量名和枚举类型的取值等都是标识符。这些标识符有各自的作用域和可见性。标识符的作用域是指标识符的有效范围，即它在程序中的存在区域。标识符的可见性是指在程序的哪个区域里可以使用。对于同一个标识符来说，这两个区域可能是不完全重合的。

C++ 中标识符作用域有：

- 函数原型作用域 
- 局部作用域 
- 类作用域
- 命名空间作用域

```c++
#include <iostream>

using namespace std;

int main()  // 函数作用域
{
	int a = 1;
	cout << a << endl;      // 1
	for (int i=1;i<2;i++)   // 局部作用域
	{
		int a = 2;
		cout << a << endl;    // 2
	}
	cout << a << endl;      // 1
	return 0;
}
```

