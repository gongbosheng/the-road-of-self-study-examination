# 1 计算机网络基本概念

## 1.1 计算机网络的定义

**计算机网络是 互连 的，自治 的计算机集合。**

- 互连：利用通信链路链接相互独立的计算机系统。
- 自治：互连的计算机系统彼此独立，不存在主从或者控制与被控制的关系。

**计算机网络的起源**

​	从技术范畴来看，计算机网络是**计算机技术**与**通信技术**相互融合的产物。

**ISP**

​	因特网服务提供商（Internet Service Provider）

## 1.2 协议的定义

**网络协议： **  网络通信实体之间在数据交换的过程中需要遵循的规则和约定。

**网络协议三要素：**

1. 语法：定义实体之间交换信息的格式与结构
2. 语义：定义实体之间交换信息中的控制信息
3. 时序：定义实体之间交换信息的顺序以及如何匹配或适应彼此的速度。

## 1.3 计算机网络的功能

计算机网络的核心功能就是资源共享。

**硬件资源共享：**  计算资源（CPU）、存储资源、打印机与扫描仪I/O等

**软件资源共享：** SaaS（Software as a Service）

**信息资源共享：** 信息检索、新闻浏览等。

## 1.4 计算机网络的分类

**按覆盖范围分类：**

- 个域网（PAN） 覆盖范围 1~10m。个人设备通过无线通信技术构成小范围的网络。
- 局域网（LAN） 覆盖范围10m ~ 1km。办公楼、校园、厂区等局部区域内。
- 城域网（MAN）覆盖范围5 ~ 50km。 覆盖一个城市范围的网络
- 广域网（WAN）覆盖范围在几十到几千千米，可以实现异地城域网或局域网的互连。

**按拓扑结构分类：**

> 拓扑：只考虑物体间的位置关系而不考虑他们的形状和大小。

- 星型拓扑结构
  - 定义：一个中央节点，网络中的主机通过点对点通信链路与中央结点连接。
  - 优点：易于监控管理、故障诊断、隔离。
  - 缺点：中央结点一旦故障，全网瘫痪。
- 总线型拓扑结构：
  - 定义：采用一条广播信道作为公共传输介质。所有结点均与总线连接，结点间的通信均通过共享的总线进行。
  - 优点：结构简单，电缆数量少，易于扩展。
  - 缺点：通信范围受限，容易产生冲突
- 环形拓扑结构：
  - 定义：利用通信链路将所有结点连接成一个闭合的环。（早期局域网、城域网）
  - 优点：电缆长度短，易于避免冲突。
  - 缺点：某结点故障引起全网瘫痪，加新（撤出）结点麻烦。
- 网状拓扑结构：
  - 定义：网络中的结点通过多条链路与不同的结点直接相连接。（广域网、核心网络）
  - 优点：网络可靠性高，一条或多条链路故障时，网络仍然可以联通。
  - 缺点：网络结构复杂，成本高。
- 树形拓扑结构：
  - 定义：可以看作是总线型拓扑或星形拓扑结构网络的扩展。
  - 优点：易于扩展，故障易隔离。
  - 缺点：根结点要求高。
- 混合拓扑结构：
  - 定义：由两种以上简单拓扑结构网络混合连接而成的网络。（绝大多数实际网络）
  - 优点：易于扩展，可以构建不同规模的网络，根据需要优选网络结构。
  - 缺点：结构复杂，管理与维护复杂。

**按交换方式分类：**

- 电路交换
- 报文交换
- 分组交换

**按网络用户属性分类：**

- 公有网
- 私有网

# 2 计算机网络结构

**网络边缘**

连接到网络上的主机或者端系统。（计算机、服务器、智能手机、智能传感器、智能家电）

**接入网络**

实现网络边缘的端系统与网络核心连接的网络。

1. 电话拨号接入：利用电话网络接入。

2. 非对称数字用户线路ADSL

   > 用户线路（subscriber line）：电话机连接电话端局的线路。
   > 非对称数字用户线路（ Asymmetric Digital Subscriber Line）

   1. 利用电话网络接入
   2. 基于频分多路服用技术
   3. 非对称
   4. 独享式接入

3. 混合光纤同轴电缆HFC接入网络

   > 混合光纤同轴电缆网（Hybrid Fiber－Coaxial）

   1. 利用有线电视网络接入的技术。
   2. 基于频分多路复用技术。
   3. 非对称。
   4. 共享式接入

4. 局域网：典型的局域网技术是以太网、WiFi等。

5. 移动接入网络：利用移动通信网络，如3G、4G、5G网络。

**网络核心**

由通信链路互连的分组交换设备构成的网络，作用是实现网络边缘中主机之间的数据的中继与转发。

# 3 数据交换技术

## 3.1 数据交换的概念

**数据交换：** 实现在大规模网络核心上进行数据传输的技术基础。

**交换设备：** 多通信端口，可以同时连接多个通信节点，进行通信的设备。

**分类：** 

> 常见的数据交换技术包括

- 电路交换
- 报文交换
- 分组交换

## 3.2 电路交换

> 适用与语音和视频类实时性强的业务。

**电路：** 通过中间交换节点为两台主机之间建立一条专用的通信线路。

**电路交换：** 

> 最早出现的一种交换方式。电弧网络是最早、最大的电路交换网络。

1. 建立电路
2. 利用电路通信
3. 通信结束后拆除电路

**优点：** 实时性高、时延和时延抖动小。

**缺点：** 不适用突发数据传输，信道利用率低、传输速率单一。

## 3.3 报文交换

> 存储-转发的交换方式。

**报文：** 发送方把要发送的信息附加上接收主机的地址和控制信息。

**报文交换：** 发送方组装好报文，发给报文交换机。相邻报文交换机收到报文后检查无误，暂时存储报文，然后找出需要转发的下一个结点的地址，然后把报文给下一个结点的报文交换机。

**优点：** 信道利用率高。

缺点：时延长，有时还需要丢弃报文。

## 3.4 分组交换

**分组：** 将待传输的数据（报文）分割成较小的独立的数据块。每个数据块附加地址等构成数据分组。分组独立传输到目的地，到目的地再重组还原为报文。

**分组交换：** 采用存储-转发的交换方式，是计算机网络中使用最广泛的交换技术。（包交换）

**优点：** 

- 交换设备存储容量要求低
- 交换速度快
- 可靠效率高
- 更加公平

**分组长度的确定：** 在其他条件相同的情况下，分组长度越长，延迟时间越长。一般的分组长度：以16B — 4096B之间的2^nB为标椎的分组长度。

# 4 计算机网络性能

## 4.1 速率与带宽

**速率：** 网络单位时间内传送的数据量，用以描述传输数据的快慢。（bit/s）

**带宽：** 

- 在通信和信号处理领域，值得是信号的频带宽度，单位：HZ
- 在计算机网络领域，值得是一条信道的最高数据速率，单位：bit/s

## 4.2 时延

> 通常将连接两个结点的直接链路称为一个“跳步”，简称“跳”。

**时延：** 分组从网络中的一个结点到到达另一结点所需要的时间。

- 结点处理时延（dc）
  - 交换设备检查分组是否有差错，确定如何转发分组的时间。
- 排队时延（dq）
  - 分组在交换结点内被交换道输出链路，等待从输出链路发送到下一个结点的时间。
- 传输时延（dt）
  - 分组在输出链路发送时，从发送第一位开始，到发送完最后一位需要的时间。
- 传播时延（dp）
  - 信号从发送端出来，经过一段物理链路到达接收端需要的时间。

## 4.3 时延带宽积

**时延带宽积：** 物理链路的传播时延与链路带宽的乘积，记为G。表示一段链路可以容纳的数据位数，也称为：以位为单位的链路长度。

## 4.4 丢包率

**丢包率：** 丢失分组和发送分组之比。反映网络的拥塞程度。

## 4.5 吞吐量

**吞吐量：**  在单位时间内源主机通过网络向目的主机实际送达的数据量，记为Thr。单位：bit/s或B/s（字节每秒）

# 5 计算机网络体系结构

**计算机网络体系结构：** 计算机网络所划分的层次以及各层协议的集合。

## 5.1 OSI 参考模型

> 数据 由上倒下 层层封装
>
> 每层功能特定、且下层为上层提供服务。

**osi：**

- 应用层：为用户提供网络服务。例如：电子邮件，浏览器上网等。传输报文；
- 表示层：处理应用实体间交换数据的语法（格式与结构）传输报文；
- 会话层：用户与用户的连接。传输报文；
- 传输层：提供端到端的逻辑通信服务。 传输数据段或者报文段；
- 网络层： 数据的转发和路由选择。传输分组或者包；
- 数据链路层： 相邻结点的数据传输。传输帧；
- 物理层：在传输介质上实现比特流传输。传输比特流或位流；

**虚拟通信：**  对等层不直接进行通信

**实通信：** 物理层的两个端点进行物理通信。

**中间系统：** 只实现物理层、数据链路层和网络层功能。

**结点到结点层：** 物理层、数据链路层、网络层

**端到端层：**  传输层、会话层、表示层、应用层。

**数据单元：** 在层的实体之间传送的比特组。

**协议数据单元(Protocol Data Unit ，PDU)：** 对等层之间传输的数据单元。

**服务访问点：** 相邻层间的服务是通过其接口面上的服务访问点(Service Access Point  , SAP)进行的，每个SAP有唯一的地址号码。

**服务原语：** 请求、指示、响应、证实。

**数据在垂直层次中咨商而下地逐层传递至物理层。**



## 5.2 TCP/IP参考模型

- 应用层：报文
- 传输层：段
- 网络互联层：数据报
- 网络接口层：帧

**TCP/IP参考模型和OSI参考模型对应关系：**

| TCP/IP参考模型 | OSI参考模型 |
| -------------- | ----------- |
| 应用层         | 应用层      |
| 应用层         | 表示层      |
| 应用层         | 会话层      |
| 传输层         | 传输层      |
| 网络互联层     | 网络层      |
| 网络接口层     | 数据链路层  |
| 网络接口层     | 物理层      |

>  网络互联层是TCP/IP参考模型核心。

## 5.3 五层参考模型

> 描述计算机网络中最常用、最接近实际网络的参考模型。

- 应用层： 报文
- 传输层： 段
- 网络层： 数据报
- 链路层： 帧
- 物理层： 比特流

# 6 计算机网络与因特网发展简史

ARPAnet 是第一个分组交换的计算机网络，当今因特网的祖先。
